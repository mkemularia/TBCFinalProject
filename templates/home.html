{% extends "base.html" %}
{% block title%}
MELODIKA
{% endblock %}
{% block container %}

<div id="carouselExampleIndicators" class="carousel slide p-5 pt-1 mt-4">
    <div class="carousel-indicators">
        <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="0" class="active"
                aria-current="true" aria-label="Slide 1"></button>
        <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="1"
                aria-label="Slide 2"></button>
        <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="2" class="active"
                aria-current="true" aria-label="Slide 2"></button>
        <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="3" class="active"
                aria-current="true" aria-label="Slide 3"></button>
    </div>
    <div class="carousel-inner">
        <div class="carousel-item active">
            <img src="/static/images/welcam.png" class="d-block w-100 rounded-4 shadow-lg"
                 style="object-fit: cover; height: 640px;" alt="Image 1">
        </div>
        <div class="carousel-item">
            <img src="/static/images/okidoki.png" class="d-block w-100 rounded-4 shadow-lg"
                 style="object-fit: cover; height: 640px;" alt="Image 2">

        </div>
        <div class="carousel-item">
            <img src="/static/images/basebi.png" class="d-block w-100 rounded-4 shadow-lg"
                 style="object-fit: cover; height: 640px;" alt="Image 3">

        </div>
        <div class="carousel-item">
            <img src="/static/images/special_offer.png" class="d-block w-100 rounded-4 shadow-lg"
                 style="object-fit: cover; height: 640px;" alt="Image 4">

        </div>
    </div>
    <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleIndicators"
            data-bs-slide="prev">
        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Previous</span>
    </button>
    <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleIndicators"
            data-bs-slide="next">
        <span class="carousel-control-next-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Next</span>
    </button>
</div>


<div class="container-xxl py-5 bg-light">
    <h2 class="fw-bold fs-4 mb-4">New Arrivals</h2>

    <div class="row row-cols-1 row-cols-sm-2 row-cols-md-3 row-cols-lg-4 g-4">
        {% for product in products %}

        <div class="col">
            <div class="card h-100 shadow-sm">
                <img src="/static/images/{{ product.img }}" class="card-img-top" alt="{{ product.name }}">
                <div class="card-body">
                    <h5 class="card-title">{{ product.name }}</h5>
                    <p class="card-text">{{ product.price }} $</p>

                    <div class="card-footer bg-white border-0 d-flex justify-content-between flex-wrap">
                        {% if current_user.is_authenticated %}
                        <a href="/detailed/{{ product['id'] }}" class="btn btn-outline-warning btn-sm mb-4">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                                 class="bi bi-eye" viewBox="0 0 16 16">
                                <path d="M16 8s-3-5.5-8-5.5S0 8 0 8s3 5.5 8 5.5S16 8 16 8M1.173 8a13 13 0 0 1 1.66-2.043C4.12 4.668 5.88 3.5 8 3.5s3.879 1.168 5.168 2.457A13 13 0 0 1 14.828 8q-.086.13-.195.288c-.335.48-.83 1.12-1.465 1.755C11.879 11.332 10.119 12.5 8 12.5s-3.879-1.168-5.168-2.457A13 13 0 0 1 1.172 8z"/>
                                <path d="M8 5.5a2.5 2.5 0 1 0 0 5 2.5 2.5 0 0 0 0-5M4.5 8a3.5 3.5 0 1 1 7 0 3.5 3.5 0 0 1-7 0"/>
                            </svg>
                            See More
                        </a>
                        <form action="/add_to_my_bag/{{ product.id }}" method="post">
                            <input type="hidden" name="item_id" value="{{ product.id }}">
                            <button type="submit" class="btn btn-outline-primary mb-2">
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                                     class="bi bi-bag-plus-fill" viewBox="0 0 16 16">
                                    <path fill-rule="evenodd"
                                          d="M10.5 3.5a2.5 2.5 0 0 0-5 0V4h5zm1 0V4H15v10a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V4h3.5v-.5a3.5 3.5 0 1 1 7 0M8.5 8a.5.5 0 0 0-1 0v1.5H6a.5.5 0 0 0 0 1h1.5V12a.5.5 0 0 0 1 0v-1.5H10a.5.5 0 0 0 0-1H8.5z"/>
                                </svg>
                            </button>
                        </form>
                        {% else %}
                        <a href="/profile" class="btn btn-outline-warning btn-sm">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                                 class="bi bi-eye" viewBox="0 0 16 16">
                                <path d="M16 8s-3-5.5-8-5.5S0 8 0 8s3 5.5 8 5.5S16 8 16 8M1.173 8a13 13 0 0 1 1.66-2.043C4.12 4.668 5.88 3.5 8 3.5s3.879 1.168 5.168 2.457A13 13 0 0 1 14.828 8q-.086.13-.195.288c-.335.48-.83 1.12-1.465 1.755C11.879 11.332 10.119 12.5 8 12.5s-3.879-1.168-5.168-2.457A13 13 0 0 1 1.172 8z"/>
                                <path d="M8 5.5a2.5 2.5 0 1 0 0 5 2.5 2.5 0 0 0 0-5M4.5 8a3.5 3.5 0 1 1 7 0 3.5 3.5 0 0 1-7 0"/>
                            </svg>
                            See More
                        </a>
                        {% endif %}

                        {% if current_user.role == "Admin" %}
                        <div class="d-flex gap-1">
                            <a href="/delete_product/{{ product['id'] }}"
                               class="btn btn-outline-danger btn-sm mb-4">
                                <i class="bi bi-trash"></i>
                            </a>
                            <a href="/edit_product/{{ product['id'] }}" class="btn btn-outline-info btn-sm mb-4">
                                <i class="bi bi-pencil"></i>
                            </a>
                        </div>
                        {% endif %}
                    </div>
                </div>
            </div>
        </div>

        {% endfor %}
    </div>

    <div class="row align-items-center mt-5">
        <div class="col-md-5 text-center">
            <img src="/static/images/wignis_mockup.png" class="img-fluid rounded shadow" alt="Special Offer">
        </div>
        <div class="col-md-7">
            <h2>Special Offer For Beginner Guitarists</h2>
            <p>When you purchase any electric guitar, you’ll receive two free guitar lessons at our guitar school — plus
                a complimentary booklet featuring essential chords and music theory. It’s everything you need to
                kickstart your musical journey.</p>
            <a href="/contact" class="btn btn-outline-primary mt-3 rounded-pill px-4">MORE INFO</a>
        </div>
    </div>

    <div class="row justify-content-center mt-5 g-4">
        <h2 class="fw-bold fs-4 mb-4">Popular Brands</h2>
        <div class="col-md-3">
            <div class="card text-center shadow-sm h-100">
                <img src="/static/images/fender-red-large.jpg" class="card-img-top p-3 bg-white rounded-4"
                     style="height: 200px; object-fit: contain;" alt="Fender logo">
                <div class="card-body">
                    <h5 class="card-title">Fender</h5>
                </div>
            </div>
        </div>
        <div class="col-md-3">
            <div class="card text-center shadow-sm h-100">
                <img src="/static/images/ibanez.jpg" class="card-img-top p-3 bg-white"
                     style="height: 200px; object-fit: contain;" alt="Ibanez logo">
                <div class="card-body">
                    <h5 class="card-title">Ibanez</h5>
                </div>
            </div>
        </div>
        <div class="col-md-3">
            <div class="card text-center shadow-sm h-100">
                <img src="/static/images/gibson.jpg" class="card-img-top p-3 bg-white"
                     style="height: 200px; object-fit: contain;" alt="Gibson logo">
                <div class="card-body">
                    <h5 class="card-title">Gibson</h5>
                </div>
            </div>
        </div>
        <div class="col-md-3">
            <div class="card text-center shadow-sm h-100">
                <img src="/static/images/yamaha.png" class="card-img-top p-3 bg-white"
                     style="height: 200px; object-fit: contain;" alt="Yamaha logo">
                <div class="card-body">
                    <h5 class="card-title">Yamaha</h5>
                </div>
            </div>
        </div>
    </div>


</div>

{% endblock %}
